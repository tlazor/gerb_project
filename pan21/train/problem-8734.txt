By the way, you can simplify much code by using 0,1,2,3... as values for X/Y instead of 0,64,128,192..., and multiply by 64 in a single place (when drawing the snake on screen) instead of everywhere else in the code. Code will be simpler and much easier for you to change the scale if needed.) For example the "if" line above could be reduced to:
By the way your code is really messy. The paint function should be used only to paint, but you are using it to add new snake parts, check user inputs, etc... That makes your code really hard to read and understand!
In the original code, it will only detect collision if colliding with the tail of the snake (last iteration of the for loop). Any collisions with previous sections of the snake will be overwritten by the last value.
Now, your problem is about getting collision just after eating an apple. Well, it is pretty normal you are colliding with yourself as you add the new part at the same spot where you already are, so during next collision detection it will think you ate yourself. I believe you need to add a special case just after eating an apple to deal with this case.