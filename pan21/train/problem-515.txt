I'm more of a RH guy (and I would use kickstart to do the basics + puppet to do the rest) but anyway, try puppet. It should be easy to get started as some time ago Wikimedia has published GIT with all their puppet config files:
Then if it works fine we want to automate pushing the new code in Git to our production server without manually editing wordpress config files and so forth. But that's a bit separate from the question of setting up the staging environment through a script
Before diving right into them I was wondering if someone has a 10,000ft view of what is applicable to our needs.
Have a look for Ansible roles (re-usable script modules from third parties) for your components - there are roles for WordPress, MariaDB/MySQL, and CloudFlare.  Try the Jeff Geerling roles first, they tend to work well if they cover what you need.
I know this answer might sound strange... but consider using Hudson, you can make it do whatever you want to, just by some tweaking .. and writing the scripts.. 
Ansible works fine to configure Linux VMs running on Azure, and if you want can also create Azure resources such as VMs, network interfaces and network security groups.  If you prefer to use Azure CLI, you can just embed the CLI commands in Ansible using the shell module as long as they are idempotent (have the same effect even if run again).
Ansible also works well for deployment automation, to replace Fabric Capistrano (search for Ansistrano if you like the Capistrano model).
I would use Ansible - it's much simpler to get started with Ansible than Chef, Puppet or Saltstack, which all do a similar job but have a much steeper learning curve (just installing Puppet takes quite a while, due to need for server, whereas Ansible is just a single install command and requires no server.
We'd like some ideas on how to automatically configure Ubuntu virtual machines as staging servers for our application, test out the staging code, and then script deployments to the production server (rather than a person installing everything on the staging server via ssh, copying files over, hand-editing configurations, etc.)
We can move to AWS if need be but we're okay on Azure for now --- we basically get an Ubuntu VM with SSH access on Azure, so it shouldn't be that different from others ways of configuring linux-based servers I imagine