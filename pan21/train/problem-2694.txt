Based on comments, it sounds like the question is around the HTTP authentication server for the mail proxy. The bit of of the guide talks about this:
But using smtp, pop3 and imap how will this be done? Please keep in ming that the docker images run on the same server with nginx and these are:
But the further I read in the link the difficult it becomes to figure out how this will be done. In http it is obvious how this will be done:
This is what your auth_http server will receive. Then, your auth_http server will need to respond with something like:
On my server I am running a mailcow:dockerized solution on a debian server and I want to use the nginx not only as an http reverse proxy but also as an SMTP imap and pop3 too as seen in https://www.nginx.com/resources/admin-guide/mail-proxy/
Unfortunately, they don't give any example HTTP server or code to run. However, I found another article that gives a PHP server script as an example at https://www.nginx.com/resources/wiki/start/topics/examples/imapauthenticatewithapachephpscript/.
It links to http://nginx.org/en/docs/mail/ngx_mail_auth_http_module.html#protocol which goes further into what the request and response should look like. It gives this as a request example: