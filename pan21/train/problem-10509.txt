I fixed this myself. MSDeploy totally screwed up the target IIS install. I ran file comparisons and everything was identical between the source and target but I was still having the issue. I uninstalled and reinstalled IIS. That got IIS working again. Then I found the article below about the -disableLink option. -disableLink:ContentExtension tells it to not sync virtual directories. That switch wins the "not obvious" award...
My case perhaps simplier: I put the msdeploy command to wrong RDP window, and the app tried to transfer data to itself.
I have 4 Windows 2008 R2 servers. 3 are IIS 7.5 web servers and 1 is a sql server / shared file server. I configured the first web server exactly as I wanted it, then used this msdeploy command to sync the config to the other 2 web servers.
http://www.asp.net/web-forms/tutorials/deployment/web-deployment-in-the-enterprise/deploying-web-packages
The biggest clue I have to solving this is the application error log. The two server that are not working throw this warning message when they compile the site. It's looking for a web.config in the virtual directory. That leads me to believe it thinks the virtual directory is actually an application. Nowhere do I see that in the configuration settings.
That successfully pushed the config to the other web servers. They work except they are unable to connect to the virtual directories I've setup. If I run the sync a second time, you can see that it says it's skipping the virtual directories (even though it actually does create them on the target machine)
I need to get the other two server so that they are are able to connect to the virtual directories. I've tried re-entering the credentials for the virtual directory, deleting the virtual directory and setting it up manually, deleting the whole site and setting it up manually. All of those things fail. It's almost like msdeploy broke my IIS installation. I've run a compare on the site directory on the systems and they are identical. I've compared c:\Windows\System32\inetsrv\config\applicationHost.config and they are identical with the exception of the hashed passwords for the virtual directories.