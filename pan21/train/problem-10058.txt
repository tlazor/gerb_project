There is no Microsoft role built into Server 2008 to make it act like a proxy. You can use TMG, but it's not free. Something like Squid on Windows might be worth looking at, but it's not native to the platform, so it could be kludgey down the road.
If you're looking at doing something like this, you do it by deploying a proxy server product and using that system as a gateway. @MarkM mentioned Squid, which we've done before,using SquidGuard, but it won't block access to https sites. You'd most likely want a turnkey product that can handle proxying and filtering, using invisible proxying so there are no settings put in by the client machines or policy.
Personally you may run into issues by locking your employees down this much and treating them the way we do unless you have a really good reason to sink management time and money into this level. We do this because we're required by CIPA laws as a school...I'm sure if you're a three letter agency for the government you may have a good reason to do this too. Otherwise you might get some pushback from your employees...or at least turnover. But that's all I'll warn about. 
Honestly, there is no good step by step guide, as you have requested. Everyone's environment is different. If you don't know how to set up a proxy, or even how to license and install one, I suggest you hire a consultant that has experience with this.