I've tried rebooting both the iPhone and the MBP, recreating networks with different SSIDs and tried different channels - all to no avail!
When it's not working the symptoms are usually that I see the ad-hoc SSID in the list of available networks on the iPhone, can connect to it from there (including entering my WEP key), and it shows up as the wifi network in use. However I don't get the wifi symbol in the taskbar (it remains as 3G) and attempting to use the connection (e.g. trying to connect to iTunes or Keynote using their respective Remote apps) fails saying that there is so wifi connection.
Might be IP Address problem. Have you checked you iphone's IP when it is connected to you MBP ad-hoc network ? have you tried using a static IP (by default this could be something like 10.0.2.x)
I'm especially puzzled that (a) sometimes it works just fine first time and (b) the Settings app seems to think its all connected fine.
Reset the wireless settings on the iPhone via Settings > General > Reset > Reset Network Settings. Sometimes this helps. Certainly did when the first iPad came out and things were buggy as hell!
I sometimes find it useful to connect my iPhone to my Macbook Pro by creating an ad-hoc wireless network from the MBP and connecting to that from the iPhone.