It's possible to divine further information about the location of an IP address based on the traceroute information - latency is an indicator of distance - and it should get progressively closer (geographically) to the target).
You seem confused about how how registries work. It is possible that a IP address range (note that we're talking about addresses here - not IP names which are very different) can be maintained by a registrar with a different geography - but this is extremely rare - since this is also the source of information about to route packets to the network. 
Have you noticed how many people add all sorts of geo-related stuff to all their posts? And how Facebook always asks you to add address or position to whatever you post? People willingly giving out correct info about their whereabouts is the best source of basis, upon which any good statistical method can base accurate-like assumptions.
Google and Facebook, two service providers mentioned in the question, are by far the most wide- and deep-spread companies of the interwebs. If there is a company wit a sort of reliable knowledge base about where do its clients connect from, these are the hottest candidates.
Prelude: This is rather a discussion starter than a real answer. Not actually answering the technical aspect of the question, I believe it may give an insight to why the GeoIP or similar service isn't that important to the big players.
But if my only objective were to display time at the client, then I wouldn't use this approach (except as a fallback) - javascript knows how to convert a UTC/GMT time into the local time zone (although it doesn't actually disclose what that timezone is - at least not explicitly).
Further, if you have access to javascript, then you can use the geolocation API to get a more precise location. 
Google is everywhere - not only with the visible services they provide through the browser window. Take the omnipresent Android phones, tablets and plethora of other gadgets, asking you to provide your position (with anonymity promise - well in this case why not, they only need the combo of IP-related stuff and your position). And the Ads and Analytics services, providing a very valuable link between websites scattered all over the globe, their users and ... yes, any sort of position info available. You don't really have to spy on people, having such a good and widespread set of services makes it easier to add the necessary two plus two in the Google math-brain-campus.