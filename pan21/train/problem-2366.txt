Also, your IBP cadence is a bit misleading. Assuming that your frame numbers are display order, your frames would actually be ordered IPB/IPB/IPB/IPB in the stream.
Sorry to say that this isn't possible with the current segment muxer. The break_non_keyframes option is targeted at cases like HLS, where many players treat the segments as a continuous stream of packets, so reference data being split across multiple files isn't a problem.
If you actually do need this feature, it would be possible (but not entirely trivial) to implement in the segment muxer. You'd need to buffer every packet that comes in, discard the buffer every time you hit an IDR-frame, and write the buffer out to the next file you start writing.
I'm curious what your actual use-case here is. Where do you need fixed-length segments, each of which must be decodeable as a completely independent file? I doubt that most players would handle this the way you want them to; in the absence of a referenced picture, players will often display green or grey artifacts rather than dropping the frame.