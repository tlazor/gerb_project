The change on Windows 7 you are referring to is a system priority to stock H.264 decoder. While in most cases codecs are fighting one with another for being picked up by registering themselves with higher merits, Windows 7 put a stop to this fight by putting stock decoder unconditionally on top of that. 
DirectShow and Media Foundation are APIs and applications are built against one of the APIs, against both APIs with hardcoded priority or API at user choice/configuration. It is only last case where you might have options to switch between APIs. That is, your way out is to choose the application which you can set up to use specific codec of interest.
To add to this, if you are playing with Windows Media Player, it attempt to play with Media Foundation and if only this attempt fails, then there is a second try with DirectShow. So you have to ruin Media Foundation API/components to be unusable to make WMP go to DirectShow for H.264. I certanly don't recommend this, and another more suitable player is the proper alternate option.