Since I just noticed that you mentioned "AD", then what you do is get the new hardware stood up, then promote it to a domain controller. Active Directory is almost always stored in the directory itself, so that's easy. DHCP can be easily imported and exported, and even shared between the two servers in the interim.
Use a backup tool that has hardware abstraction capabilities. Backup / image the server and then drop it onto the new hardware.
This isn't necessarily the most trouble free way, and if you don't have a good license for a commercial virtualization product, you're likely going to need some bald faced hornets. "Hornets, man?!" Yes, hornets. You see, after a while of wading into unsupported virtualization paths with little more than an IRC channel and a half-dead wiki to cull, you'll need a healthy nest of wasps to punch so that the pain of their venom will help drown out the much more palpable suffering of P-to-QEMU-because-I-heard-this-one-guy-did-it-once.
The fileserver is a matter of moving files and keeping permissions, which can be done with relative ease. The router would be the trickiest part, which involves some manual cable yanking... perhaps. That all depends on your topology. However, depending on what software you use for a router, there is bound to be exportation / importation / migration paths. RRAS, for example.