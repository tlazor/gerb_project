The username that owns the files in the share on the server is "nick" its UID is 104 on the server. The group that owns the files on the server is "nick" and its GID is 100 on the server.
I have an NFS4 share on an OpenIndiana server that I'm trying to properly access with an Ubuntu Linux machine.
So basically I have it halfway working. I can view files with the proper mapping, so idmapd is working at least somewhat, but the mapping is not being translated correctly the other way. What am I missing?
Created the entry in Linux's /etc/fstab to mount the share. This worked fine but when I did "ls -l" on the Linux machine, the user/group was set to nobody.
I edited /etc/default/nfs-common on the Linux machine and set "NEED_IDMAPD=yes". I also edited /etc/idmapd.conf on the Linux machine and set "Domain = lan", which is what it is set to on the OpenIndiana machine. I rebooted, and now:
I found this link describing this exact problem. The writer came to the conclusion that this problem is unavoidable due basically to a design flaw in NFS4. I'm hoping that someone has some information about a fix.
When I go on the Linux machine and do "ls -l" in the share, the files show up as being owned by user "nick" and group "nick". Great! I thought I had it. But when I "su nick" and do "touch asdf", the file is created with the wrong username/group. When I view the newly created file on the OpenIndiana machine, it shows the username as 112 and the group as 112, as the file is being created with that UID/GID, but that doesn't map to any username/group on the OpenIndiana side.