To configure useAppPoolCredentials using the ApplicationHost.config file open the ApplicationHost.config file in a text editor. By default, this file is located at %windir%\system32\inetsrv\config.
If IIS is configured to use kernel mode authentication, you must configure IIS to use the Web application poolâ€™s identity for internal virtual directories used by Microsoft Dynamics CRM. You can do so by modifying the windowsAuthentication element for the default Web site on the Web site where Microsoft Dynamics CRM is installed. For details about the windowsAuthentication element, see the IIS 7.0: windowsAuthentication Element (IIS Settings Schema) (http://go.microsoft.com/fwlink/?LinkID=202880) MSDN article.
Configure Active Directory by creating an account to run the CRMAppPool service and use a Service Principal Name (SPN). This is required when you run IIS 7.0 in a clustered or a network load-balanced environment. The SPN uniquely identifies an instance of a running service. Active Directory uses the SPN for mutual authentication of a service instance, which enables the service instance to correctly authenticate when a user attempts to access resources that are located on other domain-member computers. For more information, see the MSDN article Service Principal Names (http://go.microsoft.com/fwlink/?linkid=120954).
For all folders under the Default Web Site location path, set the value of the WindowsAuthentication element and the useAppPoolCredentials attribute to true. For example:
To create SPNs, you use ADSI Edit that is included with Windows Server. You can use this Microsoft Management Console (MMC) snap-in tool to enter SPN values for a specific computer or user account.