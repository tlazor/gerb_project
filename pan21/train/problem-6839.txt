we are looking to migrate 35k users around the globe from 60+ child domains into the parent (root) domain. We are able to migrate the users using ADMT. The users can afterwards logon with their root domain credentials and everything works fine. 
However, we have a good number of users that only connect through VPN. We are using a user certificate based VPN. The user has to first logon to the workstation using his cached credentials from the legacy domain, then he can establish a secure connection to the corporate network (authenticated through the user cert against the VPN end point).
We are able to migrate the users into the parent domain. As long as the client does not have connectivity to a DC, the user is able to logon with his cached credentials and even start the VPN connection. At this point he would have to log off and then log on with his new (root) domain credentials. However, as soon as he logs off the VPN tunnel gets terminated and the user is unable to authenticate against the DC of the root domain. Without that first authentication there are no cached credentials of the root domain that can be stored on the client and we are back to the beginning. Unfortunately, the VPN client cannot be configured in a way that would allow the user to log off and keep the VPN tunnel established. We also tried to do a "runas" or a "Switch user" but it would not work.