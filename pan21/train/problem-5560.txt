The fact that CPU-Z can see the memory modules is more or less irrelevant; what matters is if your chipset can see the actual memory chips.
I had this problem, and the issue ended up being the order in which the RAM was installed.  In this case, it was a laptop- BIOS would show 12G, but Windows 7 x64 showed "23 installed, 7.34 available".  The laptop has 4 slots, 2 under the keyboard and two on the bottom.  Switching the two 4Gs to under the keyboard, and two 2Gs to the bottom fixed the problem.
Just to rule out hardware issues, you should probably grab a 64-bit Linux or BSD LiveCD and boot into it to see what the memory map looks like (cat /proc/mtrr/ for the gory details on Linux, I think, though I don't have a Linux shell session handy to double-check). If your full 12GB of RAM is not recognized by Linux either, you need to examine your motherboard BIOS and chipset very, very carefully; there are a lot of oddities when it comes to chipsets and available RAM.
Try download http://www.memtest.org/#downiso to USB or CD and run it on your system to see if all the memory are detected and can be tested.