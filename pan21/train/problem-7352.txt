It didn't matter if it was a:some.host.com or ip4:127.0.0.1, it always complained about the SPF record being wrong/missing.
You can just use an SPF Proxy service like spfproxy.org.  Then you don't need to flatten DNS entries into IP addresses or even screw around with subdomains.  You just setup SPF Proxy and it will do all the lookups on the backend. It's the only way I've found to solve this problem elegantly. 
We are migrating from a self hosted mailing platform to Office365 for Businesses. Everything went fine, except for the SPF record. At the moment, we have v=spf1 a mx include:spf.mtasv.net -all as TXT record, but Office365 has to allow v=spf1 include:spf.protection.outlook.com -all too. So, I went ahead and and merged them into: v=spf1 a mx include:spf.mtasv.net include:spf.protection.outlook.com -all. When checking this SPF record against the domain of studentkickoff.be, this results into a PermError SPF Permanent Error: Too many DNS lookups.
While it is documented that it should work (http://community.office365.com/en-us/w/exchange/customize-an-spf-record-to-validate-outbound-email-sent-from-your-domain.aspx) we could never get it to verify with a different record.
My question is the following: How do I work around this error? I know I can replace some records with their ip4 equivalent, but when doing this, the online troubleshooter of Office365 kept complaining that the record was not found: 
In the end we changed the record to v=spf1 include:spf.protection.outlook.com -all to make the verification wizard happy and adjusted it back afterwards to the real record.  