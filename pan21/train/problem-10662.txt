You mentioned docker and CentOS, so not sure if you've seen this question already: Installing Docker on an isolated (no internet) Centos 7 box?
I think you can run rpm -q -R -p <package.rpm> (there may be a yum equivalent) to view the required dependencies of a package. You could pipe that output to a call to download those dependencies. Obviously you'd need to do that on a network enabled machine but you could move the resulting files to the disconnected machine and install them iteratively. Ordering them could be a problem I suppose but you'd have all the required items and if you just ran the install multiple times, you'd eventually get everything.
So I have a single machine on which I have installed CentOS Minimal and nothing more. It is completely isolated. This means the following:
Your best bet would be to maintain a more complete mirror on that USB disk. You can use reposync to get a remote repository mirrored to your storage. Run it regularly to keep it current. Then, use createrepo to create/update your repo metadata. Finally, on the isolated host, configure a yum repo for the mountpoint of that USB disk.
Now I have lots of RPM files inside a folder. I put that folder on a USB stick and stick it into my isolated CentOS machine. Then I run:
I have also tried to make the folder into a repository by running createrepo inside it on my Mac via docker (since I do not have createrepo on the isolated machine and cannot install anything on it). But it gives me the exact same error.
So I googled around on how to download a batch of RPMs and their dependencies, and then install them on an offline system.
So what are my options here? It looks to me that because of dependency hell I have to actually mirror the whole CentOS repository. If I wanted a package from EPEL I would have to mirror that one as well. That's lots of gigabytes to transfer and store just to install docker on an isolated machine.