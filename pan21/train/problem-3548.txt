I have up to 100 VM to be povisionned using terraform + vSphere provisionner and I want to be able to launch several resource creations in the same time and not one after the other. For the moment the second VM is created only if the previous one is finished.
By registering my command earlier, I have now access to a job_id, so now I can control the result after.
Some providers (AWS, for example), handle API rate limiting issues at a lower level by implementing graceful backoff/retry in their respective API clients. For this reason, Terraform does not use this parallelism feature to address API rate limits directly.
Finally, still using Ansible, I command an asynchronous "terraform apply -var-file=XXX.tvars" for each scripts locations with a with_items for each location/each machine and register this command.
A new directory is created for each machine and I generate my scripts in each directoy for ONE and only ONE machine.
You need to start all your VMs within one vsphere_virtual_machine resource using count statement. Count starts from 0.