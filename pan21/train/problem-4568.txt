3) The WLAN interface of your internal AP should be bridged to the LAN interface (depending on the AP firmware, this has various names). This will mean that your central DHCP server on the router can handle both, and it will also mean your LAN and WLAN can share a single segment, and see each other.
1) Guest network: The simplest way to set this up is on your main router, where you use firewall rules to ensure the segment with the guest AP is separate from the segment with your internal network (both LAN and WLAN). So you'll have two segments (and a third segment for the fiber connection).
If you cannot connect the Guest AP directly to the router, but only to the switch, you'll need a VLAN that makes it appear as if it was directly connected to the router.
This will result in an isolated guest network. Traffic from the guest network will be isolated as set up on the firewall.
2) Fiber between PC and server: I'd expect the Netgear to support configuration of "port groups" or something similar that only talk to each other. Make one such group for the two fiber ports, and another group for the rest. If the Netgear can't do that, use VLAN on the fiber. A different segment for the fiber means you can choose the transfer route by choosing the destination address.
I'm not familiar with pfSense, only with iptables, so I can't give details, but it's a fairly standard setup where basically you have to add rules that allow forwarding between the network adapters for guest/internet and internal/internet, but disallow guest/internal.
Note your custom rack will not only have to route and firewall, but also provide services like DHCP, DNS proxy/cache etc. Home routers include all this, and also often already have a ready-made guest network configuration, so research if you really need a custom rack, and if it comes with everything you need. Another option is to replace the firmware on your home router with OpenWRT etc.