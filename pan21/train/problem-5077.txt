Then I waited about an hour, and I had 4500 images in dir b with the monochrome background trimmed and width 300 pixels. The convert-im6.q16 command may be named a bit differently on other systems, like convert or something.
The IrfanView batch processing using the autio crop borders basically sorts out the cropping. I need to cut out the white/black or whatever uniform border exists in the images being processed.
This didn't exactly solve my exact question, but it doesn't matter so long as I was able to get biggest side to 300px, and smart cropping before the resize. The rest I can accomplish with CSS in my html, which may actually be a better solution.
If you actually have borders in the source image, you might want to try using -trim right after in.jpg.
However only using the -geometry parameter would leave you with an image with one of the sides too large, assuming you don't have square source material. So you need to crop around the center to get the final image resolution. +0+0 ensures you don't get the cut-off parts as separate files, since you don't need them.
So in the bottom right corner, tick Custom Processing Order, and click Change Order. Move the Auto crop borders to the top. Click OK, click OK again, and you're ready to convert. Clik Start Batch.
imagemagick has the marvelous option -trim. I remember using it along with -size about a year ago on a bunch of 4500 pictures to remove the empty monochrome border and keep just the product. I remember putting all images in directory a and creating an empty dir b; then from dir a using something like
Before you complete that, you want to make sure that it first does the cropping, and then the resizing, otherwise you'll end up with something smaller than the 300px, because if it first resizes to 300px and then crops after that...you can imagine the outcome.
So, for example, if the image being cropped has a lengthy focus, it would crop the white space / margin until it reaches the top and bottom. it would then only crop the left and right to a point where the size of the left and right equals the length. Either by removing only a partial amount of white-space (margin) - or if need be, add some white-space (margin).
None of these answers worked for me. After placing the bounty, I kept searching and found that extent was the missing piece.
My requirements were slightly different in that I was wanting to trim transparent pixels, but it may be functionally the same as removing a border? Maybe.
Assuming your original images don't have an actual black or white border and you just want to avoid the creation of such, you can use Imagemagick's convert: