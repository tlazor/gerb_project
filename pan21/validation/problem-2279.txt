This function makes it possible for TeamViewer to get different TeamViewer Ids in different sessions (User/Server session) and can also resolve issues with fast user switching.
Please activate the following setting in your TeamViewer options in TeamViewer --> Extras --> Options --> Advanced --> Show advanced settings --> General advanced settings --> [ ] Enhanced multi user support
The Server ID can be found by clicking the blue exclamation mark right next to the User ID on the main panel.
When setting up unattended access on newer versions of Windows Server, I had extreme problems with getting it to work without first having a logged in user on the server, and minimizing the RDP session or closing it resulted in this annoying error message about The screen cannot be captured at the moment.
The server that you're trying to connect has to have Teamviewer automatically start on windows logon (that option appears when you install the program) so it can create the teamviewer as a service and then allow teamviewer to automatically "turn on" the computer. (You need to reboot if the installer asks, so if is a server it's pretty hard to do it)
TeamViewer needs a running service on the remote PC if you want to connect to a locked session (depends on the Windows version though). The service should be installed if you install TeamViewer.