Clients will be XP, 7, OSX, Linux, etc.  The problem I'm trying to resolve seems to happen on XP machines (90% of the clients, at this point)
Client can connect to the server using PPTP, authenticate, receive proper IPs like 10.99.99.20, can ping the gateway for the route 10.99.99.1, and can ping the DNS server 10.0.0.10.  Resolving is the only thing that doesn't work.  And without name resolution, this is a non-workable solution to deploy.
We have a domain with 900+ clients and 250+ workstations that has the name of the domain the same as it's public domain name (we'll call it example.org).
NSLookup works, insofar that it will find the ip for dc1, but it always uses the VPN DNS server last, instead of first (which is the way you would think it should go).
RRAS Server is running 2008R2, AD Servers are running 2003r2 and 2008r2, DNS servers are running 2003r2, DHCP server is running 2003r2.
Ideally we'd just change our internal domain name, and be done with it.  However, I've already spent 160 hours in the last two weeks at work, and don't feel like pulling another 40 hour weekend when things go bad, and they would go bad (we've had everything from Exchange servers decide to corrupt AD, to machines catching on fire, to phones deciding to call emergency numbers when people hung up).  Does anyone have an easy fix that will work for 50+ very technologically challenged people?
I'm trying to set up RRAS VPN, and it works beautifully as far as connecting goes.  The problem rears it's ugly head when you want to do anything beyond connecting.  I can ping everything by IP on the internal network just fine, and I can even connect to things as long as I do it by IP.   However, whenever I want to connect to something, say dc1.example.org, it tries to resolve it on the local dns and then fails.
Server 2008 supports conditional forwarding, so set up a forward for example.org to the dns on the other side of the VPN. This only requires permission on your side of the network.
Then other option (which I prefer) is to set up a secondary dns zone on your side of the VPN and sync it with the remote side (this requires permissions on both sides).