2) Put something better suited to handling attacks in front of Apache.  Nginx and HAProxy are good choices here.  These defeat entire classes of attacks, just by being there.
3) Figure out what's crashing your server.  Is it incoming bandwidth?  Maybe you have one page that's very resource intensive to serve (not Javascript, as I said before that doesn't matter to the server)?  Is something consuming all the Apache workers?  Without actually knowing the source of your issues, it's very tough to defend against them.
1) Ditch CSF entirely.  It enables the iptables conntrack module, which can basically be used to DDOS your site.  (Conntrack has a table storing info about any current connections.  When that table fills up, your server stops accepting new connections).  Go with some plain iptables rules, and avoid state matching
I'm not entirely convinced that the Javascript here is responsible for what you are seeing.  Javascript is handled entirely client side, there's nothing different to the server between serving Javascript and serving plain text.