I have a group of AWS web servers which will need to get into the business of initiating and speaking TCP over a VPN to a third party. Don't ask me why a VPN is the third party's chosen solution; that's out of my control. The individual servers within the group don't persist; they come up and down with releases. Meanwhile, the third party requires static IPs, among other things.
The question is, of course, how best to handle the relay. The gateway server will be Ubuntu 12.04 or 14.04. I'm hoping that I can handle this with UFW and OpenVPN -- UFW handling IP redirection and passing off to the appropriate interfaces, while OpenVPN essentially wraps a network interface. Is this a realistic scheme?
The general thought is to set up a gateway server (or realistically, a couple of gateway servers so it can handle our release cycle) as the VPN clients and terminate the VPN there. Our web servers would only know about the VPN gateway servers; the third party servers would only know about the gateway servers; the gateway servers relay everything accordingly, sending it over the VPN or plain TCP as appropriate.