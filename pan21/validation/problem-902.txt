ldapmodify is lying to you about the validity of your file. If you take the LDIF file you created and run
Since I'm setting the database to use as an authentication backend for SAMBA, the database schema has been updated to include SAMBA-specific types and attributes, and now I want to tighten the ACLs on the database accordingly.
Another problem I noticed is your use of the "modify" keyword, if you're adding new entries to an LDAP schema or deleting entries you don't need to use modify, modify is only used when you're modifying an existing entry. I've found that the easiest way to modify a group of ACLs like this is to open a couple of windows on my LDAP server, prepare my new ACLs, test them with ldapmodify using the -n switch and then su to root in each window, delete the existing ACLs and then add the new ones.
characters like carriage returns and remove them and make sure that there isn't any whitespace at the end of the line. After you've done this the output of
To achieve what's outlined above, I've prepared the following LDIF file which I'm trying to apply using ldapmodify and am getting the error presented above.
Unfortunately, LDIF passes the syntax check (ldapmodify -n -v <path/to/file.ldif), and the error message is really unhelpful.
The code formatting is deceptive, but you want to have each of the ACL definitions on a single line starting at column 0, you want to separate each entry with a "-" and you want to make sure that the ACL definition doesn't have a space at the end or ldapmodify will encrypt the string.
Notice how all of the ACLs are jammed together? This is because you don't have a "-" between each entry. For some reason ldapmodify passes this file when you run it with the "-n" switch in dry-run mode but fails when you actually try to implement it. You should change your LDIF file to look like this:
Could anyway please help me fix my LDIF to be accepted by slapd?  Or explain me a way to configure it (or ldapmodify may be?) to be more verbose about the real cause of this error?
I need to add a bunch of ACLs for my database but am having hard time writing proper LDIF for it.  Unfortunately, ldapmodify is not very helpful with its useless error message:
I currently have the following pretty basic configuration for my MDB database (it has been created by the Debian package configurator for the slapd package, version 2.4.40):
It dumps all of cn=config into VIM, lets you edit it at your leisure, then when you save and quit figures out the LDIF for you.  I just added another olcAccess: attribute, renumbered the existing ones, and it worked seamlessly.